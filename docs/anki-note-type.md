# Japanese Vocabulary (Agent) - Anki Note Type

This document contains the complete Anki note type configuration for cards generated by the Japanese Anki Agent.

## Overview

This note type creates **two card types** from each vocabulary entry:

| Card Type | Front | Back |
|-----------|-------|------|
| **Japanese => EN/NL** | Japanese (hiragana + kanji) + audio | Translations + romaji + examples + notes |
| **EN/NL => Japanese** | English + Dutch translations | Japanese + audio + examples + notes |

## Quick Setup (Using Add-on - Recommended)

The easiest way to set up this note type is using the **Templates Import/Export** add-on.

### Step 1: Install the Add-on

1. Open Anki Desktop
2. Go to **Tools > Add-ons**
3. Click **Get Add-ons...**
4. Enter code: `712027367`
5. Click **OK** and restart Anki

### Step 2: Create Note Type and Fields

1. Go to **Tools > Manage Note Types**
2. Click **Add** > **Add: Basic**
3. Name it: `Japanese Vocabulary (Agent)`
4. Click **Fields** and create fields in this exact order:
   - Rename "Front" to `Hiragana/Katakana`
   - Rename "Back" to `Romaji`
   - Add: `Kanji`, `English`, `Dutch`, `Example sentence hiragana/katakana`, `Example sentence kanji`, `Example sentence translation`, `Extra notes`, `Sound`

### Step 3: Import Templates

1. Copy the `docs/anki-templates/` folder to a location on your computer
2. In Anki, go to **Tools > Templates Import / Export > Import**
3. Select the `anki-templates` folder
4. The add-on will import the CSS and card templates automatically

**Files in `anki-templates/Japanese Vocabulary (Agent)/`:**
- `style.css` - All styling (light + night mode)
- `Japanese => EN-NL.html` - Card 1 templates
- `EN-NL => Japanese.html` - Card 2 templates

---

## Manual Setup (Alternative)

If you prefer not to use the add-on, follow these steps:

1. Open Anki Desktop
2. Go to **Tools > Manage Note Types**
3. Click **Add** > **Add: Basic**
4. Name it: `Japanese Vocabulary (Agent)`
5. Follow the sections below to configure fields, templates, and styling manually

---

## Fields

Create these fields in **exact order** (matches CSV export):

| # | Field Name | Description |
|---|------------|-------------|
| 1 | Hiragana/Katakana | Primary Japanese reading (kana only) |
| 2 | Romaji | Romanization |
| 3 | Kanji | Kanji spelling (may be empty) |
| 4 | English | English translation |
| 5 | Dutch | Dutch translation |
| 6 | Example sentence hiragana/katakana | Example in kana |
| 7 | Example sentence kanji | Example in kanji |
| 8 | Example sentence translation | Example translation |
| 9 | Extra notes | Additional context |
| 10 | Sound | Audio file reference |

### Setting Up Fields

1. Select your note type and click **Fields**
2. Rename "Front" to `Hiragana/Katakana`
3. Rename "Back" to `Romaji`
4. Click **Add** for each remaining field (in order above)

---

## Card 1: Japanese => English/Dutch

This card tests **recognition** - seeing Japanese and recalling the meaning.

### Front Template

```html
<div class="card recognition">
  <div class="main-word">
    {{Hiragana/Katakana}}
  </div>

  {{#Kanji}}
  <div class="kanji">
    {{Kanji}}
  </div>
  {{/Kanji}}

  {{#Sound}}
  <div class="sound-container">
    {{Sound}}
    <button class="replay-btn" onclick="document.querySelector('audio').play()">&#9658; Replay</button>
  </div>
  {{/Sound}}
</div>
```

### Back Template

```html
<div class="card recognition">
  <div class="main-word">
    {{Hiragana/Katakana}}
  </div>

  {{#Kanji}}
  <div class="kanji">
    {{Kanji}}
  </div>
  {{/Kanji}}

  {{#Sound}}
  <div class="sound-container">
    <button class="replay-btn" onclick="document.querySelector('audio').play()">&#9658; Replay</button>
  </div>
  {{/Sound}}

  <hr class="divider">

  <div class="translations">
    <div class="translation english">
      <span class="lang-label">EN:</span> {{English}}
    </div>
    <div class="translation dutch">
      <span class="lang-label">NL:</span> {{Dutch}}
    </div>
  </div>

  <div class="romaji-hint">
    <span class="hint-label">Romaji:</span> {{Romaji}}
  </div>

  {{#Example sentence hiragana/katakana}}
  <div class="example-section">
    <div class="example-label">Example:</div>
    <div class="example-japanese">{{Example sentence hiragana/katakana}}</div>
    {{#Example sentence kanji}}
    <div class="example-kanji">{{Example sentence kanji}}</div>
    {{/Example sentence kanji}}
    <div class="example-translation">{{Example sentence translation}}</div>
  </div>
  {{/Example sentence hiragana/katakana}}

  {{#Extra notes}}
  <div class="notes-section">
    <span class="notes-label">Notes:</span> {{Extra notes}}
  </div>
  {{/Extra notes}}
</div>
```

---

## Card 2: English/Dutch => Japanese

This card tests **production** - seeing the meaning and recalling the Japanese.

### Front Template

```html
<div class="card production">
  <div class="translations-front">
    <div class="translation english">
      {{English}}
    </div>
    <div class="translation dutch">
      {{Dutch}}
    </div>
  </div>
</div>
```

### Back Template

```html
<div class="card production">
  <div class="translations-front faded">
    <div class="translation english">
      {{English}}
    </div>
    <div class="translation dutch">
      {{Dutch}}
    </div>
  </div>

  <hr class="divider">

  <div class="answer-section">
    <div class="main-word">
      {{Hiragana/Katakana}}
    </div>

    {{#Kanji}}
    <div class="kanji">
      {{Kanji}}
    </div>
    {{/Kanji}}

    <div class="romaji-hint">
      <span class="hint-label">Romaji:</span> {{Romaji}}
    </div>
  </div>

  {{#Sound}}
  <div class="sound-container">
    {{Sound}}
    <button class="replay-btn" onclick="document.querySelector('audio').play()">&#9658; Replay</button>
  </div>
  {{/Sound}}

  {{#Example sentence hiragana/katakana}}
  <div class="example-section">
    <div class="example-label">Example:</div>
    <div class="example-japanese">{{Example sentence hiragana/katakana}}</div>
    {{#Example sentence kanji}}
    <div class="example-kanji">{{Example sentence kanji}}</div>
    {{/Example sentence kanji}}
    <div class="example-translation">{{Example sentence translation}}</div>
  </div>
  {{/Example sentence hiragana/katakana}}

  {{#Extra notes}}
  <div class="notes-section">
    <span class="notes-label">Notes:</span> {{Extra notes}}
  </div>
  {{/Extra notes}}
</div>
```

---

## Styling (CSS)

Paste this into the **Styling** section of the card template editor:

```css
/* Base card styling */
.card {
  font-family: "Hiragino Sans", "Meiryo", "Noto Sans JP", sans-serif;
  font-size: 20px;
  text-align: center;
  color: #1a1a2e;
  background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
}

/* Main Japanese word */
.main-word {
  font-size: 48px;
  font-weight: 500;
  color: #16213e;
  margin-bottom: 10px;
  line-height: 1.3;
}

/* Kanji display */
.kanji {
  font-size: 36px;
  color: #0f3460;
  margin-bottom: 15px;
}

/* Divider line */
.divider {
  border: none;
  height: 2px;
  background: linear-gradient(90deg, transparent, #c4c4c4, transparent);
  margin: 20px 0;
}

/* Translation styling */
.translations, .translations-front {
  margin: 15px 0;
}

.translation {
  font-size: 22px;
  margin: 8px 0;
}

.translation.english {
  color: #2d4059;
}

.translation.dutch {
  color: #ea5455;
}

.lang-label {
  font-weight: bold;
  font-size: 14px;
  text-transform: uppercase;
  opacity: 0.7;
  margin-right: 8px;
}

.faded {
  opacity: 0.6;
}

/* Production card front - larger text */
.production .translations-front .translation {
  font-size: 32px;
  font-weight: 500;
}

/* Romaji hint */
.romaji-hint {
  font-size: 16px;
  color: #666;
  font-style: italic;
  margin: 10px 0;
}

.hint-label {
  font-weight: bold;
  font-style: normal;
}

/* Example sentence section */
.example-section {
  background: rgba(255, 255, 255, 0.7);
  border-radius: 12px;
  padding: 15px;
  margin: 20px 0;
  text-align: left;
}

.example-label {
  font-size: 12px;
  font-weight: bold;
  text-transform: uppercase;
  color: #888;
  margin-bottom: 8px;
}

.example-japanese {
  font-size: 24px;
  color: #16213e;
  margin-bottom: 5px;
}

.example-kanji {
  font-size: 20px;
  color: #0f3460;
  margin-bottom: 8px;
}

.example-translation {
  font-size: 16px;
  color: #555;
  font-style: italic;
}

/* Notes section */
.notes-section {
  background: #fff8e1;
  border-left: 4px solid #ffc107;
  padding: 12px;
  margin: 15px 0;
  text-align: left;
  font-size: 16px;
  border-radius: 0 8px 8px 0;
}

.notes-label {
  font-weight: bold;
  color: #f57c00;
}

/* Sound/Audio controls */
.sound-container {
  margin: 15px 0;
}

.replay-btn {
  background: #4a90d9;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 25px;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.2s;
}

.replay-btn:hover {
  background: #357abd;
}

.replay-btn:active {
  background: #2a5f8f;
}

/* Answer section for production cards */
.answer-section {
  background: rgba(255, 255, 255, 0.5);
  border-radius: 12px;
  padding: 20px;
  margin: 15px 0;
}

/* Night mode support */
.nightMode .card {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  color: #e8e8e8;
}

.nightMode .main-word {
  color: #f0f0f0;
}

.nightMode .kanji {
  color: #a8d8ea;
}

.nightMode .translation.english {
  color: #a8d8ea;
}

.nightMode .translation.dutch {
  color: #ff8a8a;
}

.nightMode .example-section {
  background: rgba(255, 255, 255, 0.1);
}

.nightMode .example-japanese {
  color: #f0f0f0;
}

.nightMode .example-kanji {
  color: #a8d8ea;
}

.nightMode .notes-section {
  background: rgba(255, 193, 7, 0.2);
}

.nightMode .answer-section {
  background: rgba(255, 255, 255, 0.1);
}
```

---

## Setting Up Card Templates

1. With your note type selected, click **Cards**
2. You should see "Card 1" - this is your **Japanese => English/Dutch** card
3. Paste the Card 1 Front Template into the **Front Template** box
4. Paste the Card 1 Back Template into the **Back Template** box
5. Paste all CSS into the **Styling** box
6. Click the **+** button to add a second card type
7. Name it `English/Dutch => Japanese`
8. Paste the Card 2 Front and Back templates

---

## Importing Cards

When importing CSV files from the Japanese Anki Agent:

1. In Anki, go to **File > Import**
2. Select your CSV file
3. Choose **Japanese Vocabulary (Agent)** as the note type
4. Anki will automatically read the `#columns:` directive and map fields
5. The `#tags column:11` directive handles tag import automatically

### CSV Format Reference

The agent exports in this format:
```
#separator:Comma
#html:false
#columns:Hiragana/Katakana,Romaji,Kanji,English,Dutch,Example sentence hiragana/katakana,Example sentence kanji,Example sentence translation,Extra notes,Sound
#tags column:11
"word1","romaji1","kanji1",...
```

---

## Audio Setup

When the Sound field contains audio (format: `[sound:filename.mp3]`):

1. Audio auto-plays when the card front is shown (Card 1)
2. Audio auto-plays when answer is revealed (Card 2)
3. Click the **Replay** button to play again

### Adding Audio Files

Place audio files in your Anki media folder:
- **macOS**: `~/Library/Application Support/Anki2/[Profile]/collection.media/`
- **Windows**: `%APPDATA%\Anki2\[Profile]\collection.media\`
- **Linux**: `~/.local/share/Anki2/[Profile]/collection.media/`

---

## Troubleshooting

### Fields not mapping correctly
- Ensure field names match **exactly** (including spaces and capitalization)
- Check that fields are in the correct order

### Audio not playing
- Verify the audio file exists in your media folder
- Check the Sound field format: `[sound:filename.mp3]`
- Try a different audio format (mp3, ogg, wav)

### Styling looks wrong
- Make sure you copied the entire CSS block
- Check for any copy/paste errors with special characters

### Night mode not working
- Anki adds the `.nightMode` class automatically
- Ensure you're using Anki 2.1+ for night mode support

---

## Design Features

- **48px Japanese text** for easy reading
- **Color-coded translations**: Blue (English), Red (Dutch)
- **Conditional display**: Kanji, sound, examples, and notes only show when populated
- **Night mode**: Full dark theme support
- **Replay button**: Styled audio control
- **Modern styling**: Gradients, rounded corners, clean typography
